syntax = "proto3";

package mooyaho;

service Mooyaho {
  rpc Call(Signal) returns (Signal) {}
  rpc ClientIcecandidate(Signal) returns (Empty) {}
  rpc ListenSignal(Empty) returns (stream Signal) {}
  rpc Answer(Signal) returns (Empty) {}
}

message Signal {
  string type = 1; // offer, answer, icecandidate
  string sessionId = 2;
  string sdp = 3; // for offer / answer
  string candidate = 4; // for icecandidate
  string channelId = 5;
  string fromSessionId = 6;
}

message ListenSignalRequest {
}

message Empty {}