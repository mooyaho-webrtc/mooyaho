syntax = "proto3";

package mooyaho;

service Mooyaho {
  rpc Call(Signal) returns (Signal) {}
  rpc ClientIcecandidate(Signal) returns (Empty) {}
  rpc ListenSignal(ListenSignalRequest) returns (stream Signal) {}
}

message Signal {
  string type = 1; // offer, answer
  string sessionId = 2;
  string sdp = 3; // for offer / answer
  string candidate = 4; // for icecandidate
}

message ListenSignalRequest {
  string sessionId = 1;
}

message Empty {}